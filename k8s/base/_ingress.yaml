apiVersion: v1
kind: Secret
metadata:
  name: tls-certs
type: kubernetes.io/tls
data:
  tls.crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tDQpNSUlESHpDQ0FnZWdBd0lCQWdJVU9KdHBsQURsMHlWbjMyMGQxUmVzOXo1TGlsY3dEUVlKS29aSWh2Y05BUUVMDQpCUUF3RkRFU01CQUdBMVVFQXd3SmJHOWpZV3hvYjNOME1CNFhEVEl6TURReE1URTNNamt3T0ZvWERUSTBNRFF4DQpNREUzTWprd09Gb3dGREVTTUJBR0ExVUVBd3dKYkc5allXeG9iM04wTUlJQklqQU5CZ2txaGtpRzl3MEJBUUVGDQpBQU9DQVE4QU1JSUJDZ0tDQVFFQXIvajdvaHJEWHdnbytyREJ6TnhvNEt2anNMOXBPRkNqMlZ3SEFQV1R5dHplDQp6am0wQVN4ZTlBV25kcko5T1VHUDFqMXhzTllqUlV2U0NHOEVicEZpeVZwRXhwaWtkV2FCNjBJYUpQelR4d0U1DQpZWjlLZTJGdDZXR2hkcFliTk5BNFUrT2UzcXVEVGVzNUJlemxIM2lCZ1o2ZjBreVNVQzdnSDJIRlc0L2pyejFZDQp1aUxmN2VqWDVqSUVxaHVEeE81S2trbGh6bnB2bnduRjVJTWNuSDR6K0txVEVtaGs0V2o2ZnNjL2FJWHZQYW1BDQozM0sxVWw2dWxnRExFZkJBUXNReGxkMEpmaTZQVXE4Z1RBQlh6bGVkK1VaVTlFT2JiRk0rZGFMRVJydk1Fbmh1DQpUTkc2WlI3TVJtVDdvWG1Fa1UzU0pjMVpyWm1kNVlQQkJiZThOSzlXSFFJREFRQUJvMmt3WnpBZEJnTlZIUTRFDQpGZ1FVcTNkQWFRVjdCU0U4WExGOXEvaCtMVDg0UCs4d0h3WURWUjBqQkJnd0ZvQVVxM2RBYVFWN0JTRThYTEY5DQpxL2grTFQ4NFArOHdEd1lEVlIwVEFRSC9CQVV3QXdFQi96QVVCZ05WSFJFRURUQUxnZ2xzYjJOaGJHaHZjM1F3DQpEUVlKS29aSWh2Y05BUUVMQlFBRGdnRUJBQjdYYmxmS05hQlZJNGxWKzNYQm15Q1gxMEg5WlNEYjEwdXB0ZnUyDQo5ODkxME9PVmNlNHh6ZmRIc25zVlZ0KzV0aVkvRkh4RFlMSmJCUExqYkFwUm96ajlob0dHMHREVmtxUUl3QTdXDQpQTmpkeXh6T0p5c3VjSEtwRGl6ejNQM2F2Q1loak9iMDhQZk1IemtVRXFJZTZsQ2FlY1BCNHBLVVNldjQyOStzDQpTZTRpZ0EvaExZYmNKRDJ1eUJUR253Y0k1VDR5OGtEc0xTcWVNZVMvTHhQUDVJZHd1MmxTTlZCS1lsdDhZeUZCDQp0MEtzaDduM2puL3lCRDA5MlpmWTJHOER1dFg2Qk94ak45VjRSdEl1Tk41UnR3bGpqNldOU3NxcmRDc1ZGbjJ6DQo1WnJJdHFxdm9ya3oraGIwQklic1ZwOGFFeW1EUk1COXVzMnlobEFkZXJUblRXZz0NCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0NCg==
  tls.key: LS0tLS1CRUdJTiBQUklWQVRFIEtFWS0tLS0tDQpNSUlFdndJQkFEQU5CZ2txaGtpRzl3MEJBUUVGQUFTQ0JLa3dnZ1NsQWdFQUFvSUJBUUN2K1B1aUdzTmZDQ2o2DQpzTUhNM0dqZ3ErT3d2Mms0VUtQWlhBY0E5WlBLM043T09iUUJMRjcwQmFkMnNuMDVRWS9XUFhHdzFpTkZTOUlJDQpid1J1a1dMSldrVEdtS1IxWm9IclFob2svTlBIQVRsaG4wcDdZVzNwWWFGMmxoczAwRGhUNDU3ZXE0Tk42emtGDQo3T1VmZUlHQm5wL1NUSkpRTHVBZlljVmJqK092UFZpNkl0L3Q2TmZtTWdTcUc0UEU3a3FTU1dIT2VtK2ZDY1hrDQpneHljZmpQNHFwTVNhR1RoYVBwK3h6OW9oZTg5cVlEZmNyVlNYcTZXQU1zUjhFQkN4REdWM1FsK0xvOVNyeUJNDQpBRmZPVjUzNVJsVDBRNXRzVXo1MW9zUkd1OHdTZUc1TTBicGxIc3hHWlB1aGVZU1JUZElselZtdG1aM2xnOEVGDQp0N3cwcjFZZEFnTUJBQUVDZ2dFQUhvL0pkQS9kMm9WYVNKK21LT1FtdXM1Zmp2VFBXMTUxOW13TE0xbHpQNG80DQpqK3hwbk1LT0F5ZHdQQ2NucEdnRWlSckd3Z1dPdnB3NmNBaUg1b1FOZWhiWlZ2eHZvNHdZQ0RuRXZLUEVUQTJrDQpYNVlBbzRqNlE4d1c5TGVCSmh6N2kyWSswMEZLWHAvNW1WUFpQeXY0b2dCZ2xXK0RBYllDYXJEYVM5cWptbTFzDQo5ZGoxNzhtcllWbS93Nzd2aUMyZE15SmorZS9tUjJsZ0FlS1loZ2diVXlDMXZVSHludVZSdXJSVjk2amIwM3NkDQpCOVhoRE1DUHpXeE4zYW15dTRVWDNINTFzYXpMWDVGaEdJQ29XbFI3Q1hwUTBQemdaM1lCTWJKVElhbUtrVHVMDQpkN1JRdTE5UlJ6dkZUdjRjY0R4NFd2SHhRd1ZoYkFsZUdodWxoTVlhcVFLQmdRRHIvSkpxTzJla2FKWkc0d0E2DQpzRHFEMXJaMWZweXJqMERHZ0lhNndBUFYxK3dLZlVRWkdvNkhCRjc1V0Z6OFcva2xscysvazhmNU5tQ05aTDRxDQpJcDRTRi9ORlRxQjFNK1JnRDdzYUY0SHVjNEE0QlpicVJsbmdQVEZqVXNrWnJBVXBpZllHcUtOeE9nUkR0R3gwDQpVd0QyTEJzaVFsRHBjN3R1ZmtHem9PeW5Yd0tCZ1FDKzVYZGRLaC9KTjViRW9HZTZkVytCY1F1NUtKbEFYYlE2DQplR1VNbXBBeTlnM28yUHZRVXRlODczUFJ2SVIwMUtybTc0RVJUaGdjN09xR1BFQ2JiYi9CUXRmRXovL2kzMlRDDQpReWlSUlY0NVpiY2dnRzFxQmFxNDlXSXpZcGVDczFMLzlCNnNKQjlPSURFZEtvNW5PN2M3UTE5RE9sOXBWZUFHDQpoT2NWdjNLZ0F3S0JnUUNpazZqVEl3WHVFRmVua20vdi9zVHhXeFRzc1VPQ05manNTRk9KaVF1YllWd3VoY3BLDQplUzlEK1ZEcysyRmtRb0RNMHE5aFRwQndNblFtTlFlRnc3K2V1MzFQZkRHelRRTEM0MU9GVURpbGJGRWpSMGFIDQpNOXhyVGYwZWJrUTVPWGQ4L0p6UVRaSDhTWG55b3ZRczE1cEwvbXJiR1ZEZzVHaDJZT2ttdFhFVWhRS0JnUUN1DQpqdllQWXkyZHVnOUx6Y0lNWnNhSC91OVJhU1o2RFRWNUlnNkU3L0ZjS0ZPZjBJcXpmSTE2WHh2eGRnbEpMQTc3DQpEWmRnVTZFSkVqdUNkQ1kvK3FPVi9hR0FmeExtU3BEQWN0anR2aGpqTTNlNWFMYWtkSG9nbDRJc3FzTVE2Um5FDQpvMTVJMnQ4bGVacHZxVEorZzhTUmxKSFB6OWpmWVg5eGRxWTQ1TS9VTVFLQmdRRG5oVEtIOHUxU2thWm91WnpmDQozbjhIK3diSU8wd2VCaVIxMUpCbEpyZk9MS3dqWU94UDc4aldsMTRyazU4RlVXQkdpSFRXWU8yZXA4MUR0QzV3DQoxVHZJQWhIc1l0ekM5eWhnTzZiL3RWVGVudlJPbVhYeG5jSWxha2J2VUU1R09QQVVzbFJUdklMaUxyM0xITHZrDQpVeW53QU10dkZZcnAxSkZtMmlpOVBydXoxUT09DQotLS0tLUVORCBQUklWQVRFIEtFWS0tLS0tDQo=
---
apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: ingress
  annotations:
    nginx.ingress.kubernetes.io/rewrite-target: /
    nginx.ingress.kubernetes.io/force-ssl-redirect: "true"
spec:
  ingressClassName: nginx
  tls:
    - hosts:
      - localhost
      secretName: tls-certs
  rules:
    - host: localhost
      http:
        paths:
        - path: /
          pathType: Prefix
          backend:
            service:
              name: angular
              port:
                name: http
        - path: /auth
          pathType: Prefix
          backend:
            service:
              name: identity-server
              port:
                name: http
        - path: /api
          pathType: Prefix
          backend:
            service:
              name: gateway
              port:
                name: http